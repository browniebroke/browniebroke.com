---
import React from "react";

import BaseLayout from "../layouts/BaseLayout.astro";

import { Avatar } from "../components/avatar";
import { SocialLinks } from "../components/social";
import { SectionTitle } from "../components/section-title";
import { SeeMoreStyles } from "../components/see-more";
import { PostsList } from "../components/post-list";

import { getPostsByMostRecent } from "../utils/contents";
import { site } from "../data/siteMetadata";

const mostRecent3Posts = await getPostsByMostRecent(3);
---

<BaseLayout title="Home">
  <section class="flex flex-col items-center">
    <h1 class="text-4xl font-bold mt-8 mb-4">{site.author}</h1>
    <Avatar />
    <p class="text-center max-w-[400px]">
      {site.bio}
    </p>
    <SocialLinks />
  </section>
  <section>
    <SectionTitle>Most recent posts</SectionTitle>

    <PostsList posts={mostRecent3Posts} />

    <SeeMoreStyles>
      <a href="/blog/">See more...</a>
    </SeeMoreStyles>
  </section>
</BaseLayout>
